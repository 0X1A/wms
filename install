#!/bin/bash
DNAME=`dirname $0`
BSPWMD=$HOME/.config/bspwm/
SXHKD=$HOME/.config/sxhkd/
SCRIPTD=$HOME/.config/scripts/

mkdirs() {
	mkdir -p $BSPWMD
	mkdir -p $SXHKD
	mkdir -p $SCRIPTD
}

inst_scripts() {
	cp $DNAME/scripts/* $SCRIPTD
	echo "export PATH=$PATH:$HOME/.config/scripts/" >> $HOME/.zshrc
	echo "export NOTIFY_PIPE=/tmp/notify-pipe" >> $HOME/.zshrc
	source ~/.zshrc
}

inst_bspwm() {
	if [ ! -f $BSPWMD/bspwmrc ] ; then
		cp $DNAME/bspwm/bspwmrc-single $BSPWMD/bspwmrc
	fi
	if [ ! -d $BSPWMD/panel ] ; then
		cp -R $DNAME/bspwm/panel $BSPWMD
	fi
	if [ ! -f $SXHKD/sxhkdrc ] ; then
		cp $DNAME/bspwm/sxhkdrc $SXHKD
	fi
	cp -r $DNAME/scripts $SXHKD
}

case $1 in
	*)
		mkdirs
		inst_scripts
		inst_bspwm
		;;
esac
